<!-- @format -->

<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Posts</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 dark:bg-gray-900 min-h-screen p-6 transition duration-300">
    
    <!-- Page Title -->
    <h1 class="text-4xl font-bold text-center mb-6 text-gray-800 dark:text-gray-100">
      Blog Posts
    </h1>

    <!-- Create Post Button -->
    <div class="text-center mb-10">
      <a
        href="/posts/new"
        class="inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition"
      >
        Create New Post
      </a>
    </div>

    <!-- Posts List Container -->
    <div class="max-w-3xl mx-auto space-y-6">
      <% for (let val of post) { %>

      <!-- Single Post Card -->
      <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-6 hover:shadow-xl transition border border-transparent dark:border-gray-700">
        
        <!-- Username -->
        <h2 class="text-2xl font-semibold text-indigo-600 dark:text-indigo-400 mb-2">
          <%= val.username %>
        </h2>

        <!-- Content -->
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
          <%= val.content %>
        </p>

        <!-- Actions Container -->
        <div class="flex flex-wrap items-center gap-4 text-indigo-500 dark:text-indigo-300">

          <!-- Edit Link -->
          <a href="/posts/<%= val.id %>/edit" class="hover:underline">
            Edit Post
          </a>

          <!-- See Details Link -->
          <a href="/posts/<%= val.id %>" class="hover:underline">
            See in Details
          </a>

          <!-- Delete Form -->
          <form action="/posts/<%= val.id %>?_method=DELETE" method="post">
            <button
              type="submit"
              class="bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded transition"
            >
              Delete Post
            </button>
          </form>

        </div>
      </div>

      <% } %>
    </div>

  </body>
</html>
